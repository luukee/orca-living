{% comment %}
  Section: Paver Banner
  
  Displays a banner for paver collections when specific tags are present.
  Includes a main banner image with overlay text and two content grids.
  
  Settings:
  - banner_show_for_tag: Tag that triggers banner display
  - banner_image: Main banner image
  - banner_overlay_text: Text overlay for banner
  
  Blocks:
  - Two grid blocks with image and text content
{% endcomment %}

{% liquid
if section.settings.banner_show_for_tag != ''
  assign show_paver_banner = false
  if current_tags contains section.settings.banner_show_for_tag
    assign show_paver_banner = true
  endif
endif
%}

{% comment %} {% if request.path == "/collections/pavers/_Samples" %} {% endcomment %}
{% if show_paver_banner %}
  {{ 'collection-pavers.css' | asset_url | stylesheet_tag }}
  {% style %}
    /* move product grid to middle */
    @media only screen and (min-width: 750px) {
      .template--collection #MainContent>.shopify-section.collection-product-grid{
        grid-area: middle;
      }
    }
    /* move paver banner to top */
    .template--collection #MainContent>.shopify-section.section-paver-banner:has(*){
      grid-area: banner;
    }
  {% endstyle %}
  {% if section.settings.banner_image %}
    <div class="overlay-wrapper">
      {% render 'snippet--image', 
        class: 'banner',
        img: section.settings.banner_image,
        loading: 'lazy',
        alt: section.settings.banner_overlay_text
      %}
      <p class="overlay-text">{{  section.settings.banner_overlay_text }}</p>
    </div>
  {% endif %}
  <div class="two-grids">
    {% for block in section.blocks %}
      <div class="two-grid">
        {% render 'snippet--image', img: block.settings.image %}
        <div class="text-content">
          {{ block.settings.text }}
        </div>
      </div>
    {% endfor %}
  </div>

{% endif %}
{% schema %}
  {
    "name": "Paver Banner",
    "tag": "section",
    "class": "section-paver-banner",
    "settings": [
      {
        "type": "text",
        "id": "banner_show_for_tag",
        "label": "Show banner for product tag",
        "info": "Enter tag name to display this banner. Leave empty to always show.",
        "placeholder": "_Samples"
      },
      {
        "type": "image_picker",
        "id": "banner_image",
        "label": "Banner Image",
        "info": "Banner Image"
      },
      {
        "type": "text",
        "id": "banner_overlay_text",
        "label": "Banner Overlay Text",
        "info": "Banner Overlay Text"
      }
    ],
    "blocks": [
      {
        "type": "two-grid",
        "name": "Two Grid",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          }, {
            "type": "richtext",
            "id": "text",
            "label": "Text"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Paver Banner"
      }
    ]
  }
{% endschema %}